{"description":"Visualize AWS EKS and Kubernetes Container Insights metrics","is_read_only":false,"layout_type":"ordered","template_variables":[{"name":"region","prefix":"region"},{"name":"clustername","prefix":"clustername"},{"name":"namespace","prefix":"namespace"},{"name":"nodename","prefix":"nodename"},{"name":"podname","prefix":"podname"},{"name":"instanceid","prefix":"instanceid"},{"name":"service","prefix":"service"}],"title":"AWS EKS and Kubernetes Container Insights","widgets":[{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.cluster_failed_node_count{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"cluster_failed_node_count","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":0,"y":0}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.cluster_node_count{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"cluster_node_count","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":3,"y":0}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.namespace_number_of_running_pods{$clustername,$namespace}.as_count()"}],"response_format":"timeseries"}],"title":"namespace_number_of_running_pods","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":6,"y":0}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.service_number_of_running_pods{$service,$clustername,$namespace}.as_count()"}],"response_format":"timeseries"}],"title":"service_number_of_running_pods","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":9,"y":0}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_cpu_limit{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"node_cpu_limit","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":0,"y":4}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_cpu_reserved_capacity{$clustername,$instanceid,$nodename}.as_count()"}],"response_format":"timeseries"}],"title":"node_cpu_reserved_capacity in %","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":3,"y":4}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_cpu_usage_total{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"node_cpu_usage_total","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":6,"y":4}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_cpu_usage_total{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"node_cpu_usage_total","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":9,"y":4}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_cpu_utilization{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"All node_cpu_utilization","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":0,"y":7}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_cpu_utilization{$clustername,$instanceid,$nodename}.as_count()"}],"response_format":"timeseries"}],"title":"node_cpu_utilization","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":3,"y":7}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_filesystem_utilization{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"All node_filesystem_utilization","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":6,"y":7}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_filesystem_utilization{$clustername,$instanceid,$nodename}.as_count()"}],"response_format":"timeseries"}],"title":"node_filesystem_utilization","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":9,"y":7}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_memory_utilization{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"All node_memory_limit","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":0,"y":11}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_memory_reserved_capacity{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"All node_memory_reserved_capacity","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":3,"y":11}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_memory_reserved_capacity{$clustername,$instanceid,$nodename}.as_count()"}],"response_format":"timeseries"}],"title":"node_memory_reserved_capacity","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":6,"y":11}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_memory_utilization{$nodename,$clustername,$instanceid}.as_count()"}],"response_format":"timeseries"}],"title":"node_memory_utilization","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":9,"y":11}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_number_of_running_containers{$nodename,$clustername,$instanceid}.as_count()"}],"response_format":"timeseries"}],"title":"node_number_of_running_containers","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":6,"x":0,"y":14}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.node_number_of_running_pods{$clustername,$instanceid,$nodename}.as_count()"}],"response_format":"timeseries"}],"title":"node_number_of_running_pods","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":7,"x":6,"y":14}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_cpu_reserved_capacity{$namespace,$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"All pod_cpu_reserved_capacity","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":0,"y":18}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_cpu_reserved_capacity{$clustername,$namespace,$podname}.as_count()"}],"response_format":"timeseries"}],"title":"pod_cpu_reserved_capacity","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":3,"y":18}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_cpu_reserved_capacity{$clustername,$namespace,$podname}.as_count()"}],"response_format":"timeseries"}],"title":"pod_cpu_reserved_capacity","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":3,"x":6,"y":18}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_cpu_reserved_capacity{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"All pod_cpu_reserved_capacity","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":4,"x":9,"y":18}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_cpu_utilization_over_pod_limit{$namespace,$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"All Cluster and Namespace pod_cpu_utilization_over_pod_limit","title_size":"16","type":"timeseries"},"layout":{"height":3,"width":5,"x":0,"y":21}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_cpu_utilization_over_pod_limit{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"All Cluster pod_cpu_utilization_over_pod_limit","title_size":"16","type":"timeseries"},"layout":{"height":3,"width":4,"x":5,"y":21}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_cpu_utilization_over_pod_limit{$namespace,$podname,$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"pod_cpu_utilization_over_pod_limit","title_size":"16","type":"timeseries"},"layout":{"height":3,"width":4,"x":9,"y":21}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_cpu_utilization{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"All Cluster pod_cpu_utilization","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":5,"x":0,"y":24}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_cpu_utilization{$clustername,$namespace}.as_count()"}],"response_format":"timeseries"}],"title":"All Cluster and Namespace pod_cpu_utilization","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":4,"x":5,"y":24}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_cpu_utilization{$podname,$clustername,$namespace}.as_count()"}],"response_format":"timeseries"}],"title":"pod_cpu_utilization","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":4,"x":9,"y":24}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_memory_utilization{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"All Cluster pod_memory_utilization","title_size":"16","type":"timeseries"},"layout":{"height":3,"width":5,"x":0,"y":28}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_memory_utilization{$clustername,$namespace}.as_count()"}],"response_format":"timeseries"}],"title":"All Cluster and Namespace pod_memory_utilization","title_size":"16","type":"timeseries"},"layout":{"height":3,"width":4,"x":5,"y":28}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_memory_utilization{$clustername,$namespace,$podname}.as_count()"}],"response_format":"timeseries"}],"title":"pod_memory_utilization","title_size":"16","type":"timeseries"},"layout":{"height":3,"width":4,"x":9,"y":28}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_memory_utilization_over_pod_limit{$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"All Cluster pod_memory_utilization_over_pod_limit","title_size":"16","type":"timeseries"},"layout":{"height":3,"width":5,"x":0,"y":31}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_memory_utilization_over_pod_limit{$clustername,$namespace}.as_count()"}],"response_format":"timeseries"}],"title":"All Cluster and Name pod_memory_utilization_over_pod_limit","title_size":"16","type":"timeseries"},"layout":{"height":3,"width":4,"x":5,"y":31}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_memory_utilization_over_pod_limit{$namespace,$podname,$clustername}.as_count()"}],"response_format":"timeseries"}],"title":"pod_memory_utilization_over_pod_limit","title_size":"16","type":"timeseries"},"layout":{"height":3,"width":4,"x":9,"y":31}},{"definition":{"requests":[{"formulas":[{"formula":"A"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:containerinsights.pod_number_of_container_restarts{$clustername,$namespace,$podname}.as_count()"}],"response_format":"timeseries"}],"title":"pod_number_of_container_restarts","title_size":"16","type":"timeseries"},"layout":{"height":3,"width":5,"x":0,"y":34}},{"definition":{"background_color":"white","content":"[![](https://monitoringartist.github.io/monitoring-artist-logo-grafana.png)](http://www.monitoringartist.com \"Dashboard maintained by Monitoring Artist - DevOps / Docker / Kubernetes / AWS ECS / Google GCP / Zabbix / Zenoss / Terraform / Monitoring\") \\|\n[AWS CloudWatch EKS and Cluster documentation](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Container-Insights-metrics-EKS.html#monitoring-console.distributions) \\|\n[Installed from Grafana.com dashboards](https://grafana.com/dashboards/14392)","has_padding":true,"show_tick":false,"type":"note"},"layout":{"height":2,"width":12,"x":0,"y":37}}]}