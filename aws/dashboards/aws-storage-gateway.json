{"description":"Visualize AWS Storage Gateway metrics","is_read_only":false,"layout_type":"ordered","template_variables":[{"name":"region","prefix":"region"},{"name":"gatewayname","prefix":"gatewayname"},{"name":"gatewayid","prefix":"gatewayid"},{"name":"volumeid","prefix":"volumeid"}],"title":"AWS Storage Gateway","widgets":[{"definition":{"requests":[{"formulas":[{"formula":"A"},{"formula":"B"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:aws.storagegateway.user_cpu_percent{$gatewayname}.as_count()"},{"data_source":"metrics","name":"B","query":"avg:aws.storagegateway.io_wait_percent{$gatewayname}.as_count()"}],"response_format":"timeseries"}],"title":"UserCpuPercent/IoWaitPercent","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":12,"x":0,"y":0}},{"definition":{"requests":[{"formulas":[{"formula":"A"},{"formula":"B"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:aws.storagegateway.cache_hit_percent{$gatewayid,$gatewayname}.as_count()"},{"data_source":"metrics","name":"B","query":"avg:aws.storagegateway.cache_used{$gatewayid,$gatewayname}.as_count()"}],"response_format":"timeseries"}],"title":"CacheHitPercent/CacheUsed","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":12,"x":0,"y":4}},{"definition":{"requests":[{"formulas":[{"formula":"A"},{"formula":"B"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:aws.storagegateway.upload_buffer_percent_used{$gatewayname}.as_count()"},{"data_source":"metrics","name":"B","query":"avg:aws.storagegateway.upload_buffer_used{$gatewayname}.as_count()"}],"response_format":"timeseries"}],"title":"UploadBufferPercentUsed/UploadBufferUsed","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":12,"x":0,"y":7}},{"definition":{"requests":[{"formulas":[{"formula":"A"},{"formula":"B"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:aws.storagegateway.mem_total_bytes{$gatewayname}.as_count()"},{"data_source":"metrics","name":"B","query":"avg:aws.storagegateway.mem_used_bytes{$gatewayname}.as_count()"}],"response_format":"timeseries"}],"title":"MemTotalBytes/MemUsedBytes","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":12,"x":0,"y":11}},{"definition":{"requests":[{"formulas":[{"formula":"A"},{"formula":"B"}],"queries":[{"data_source":"metrics","name":"A","query":"sum:aws.storagegateway.cloud_bytes_uploaded{$gatewayid,$gatewayname}.as_count()"},{"data_source":"metrics","name":"B","query":"sum:aws.storagegateway.cloud_bytes_downloaded{$gatewayid,$gatewayname}.as_count()"}],"response_format":"timeseries"}],"title":"CloudBytesUploaded/CloudBytesDownloaded","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":12,"x":0,"y":14}},{"definition":{"requests":[{"formulas":[{"formula":"A"},{"formula":"B"}],"queries":[{"data_source":"metrics","name":"A","query":"sum:aws.storagegateway.read_bytes{$gatewayid,$gatewayname}.as_count()"},{"data_source":"metrics","name":"B","query":"avg:aws.storagegateway.read_time{$gatewayid,$gatewayname}.as_count()"}],"response_format":"timeseries"}],"title":"ReadBytes/ReadTime","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":12,"x":0,"y":18}},{"definition":{"requests":[{"formulas":[{"formula":"A"},{"formula":"B"}],"queries":[{"data_source":"metrics","name":"A","query":"sum:aws.storagegateway.write_bytes{$gatewayid,$gatewayname}.as_count()"},{"data_source":"metrics","name":"B","query":"avg:aws.storagegateway.write_time{$gatewayname,$gatewayid}.as_count()"}],"response_format":"timeseries"}],"title":"WriteBytes/WriteTime","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":12,"x":0,"y":21}},{"definition":{"requests":[{"formulas":[{"formula":"A"},{"formula":"B"}],"queries":[{"data_source":"metrics","name":"A","query":"sum:aws.storagegateway.index_evictions{$gatewayid,$gatewayname}.as_count()"},{"data_source":"metrics","name":"B","query":"sum:aws.storagegateway.index_fetches{$gatewayid,$gatewayname}.as_count()"}],"response_format":"timeseries"}],"title":"IndexEvictions/IndexFetches","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":12,"x":0,"y":25}},{"definition":{"requests":[{"formulas":[{"formula":"A"},{"formula":"B"},{"formula":"C"},{"formula":"D"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:aws.storagegateway.smb_v1sessions{$gatewayname}.as_count()"},{"data_source":"metrics","name":"B","query":"avg:aws.storagegateway.smb_v2sessions{$gatewayname}.as_count()"},{"data_source":"metrics","name":"C","query":"avg:aws.storagegateway.smb_v3sessions{$gatewayname}.as_count()"},{"data_source":"metrics","name":"D","query":"avg:aws.storagegateway.nfs_sessions{$gatewayname}.as_count()"}],"response_format":"timeseries"}],"title":"SmbV1Sessions/SmbV2Sessions/SmbV3Sessions/NfsSessions","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":12,"x":0,"y":28}},{"definition":{"requests":[{"formulas":[{"formula":"A"},{"formula":"B"},{"formula":"C"}],"queries":[{"data_source":"metrics","name":"A","query":"avg:aws.storagegateway.working_storage_free{$gatewayname}.as_count()"},{"data_source":"metrics","name":"B","query":"avg:aws.storagegateway.working_storage_used{$gatewayname}.as_count()"},{"data_source":"metrics","name":"C","query":"avg:aws.storagegateway.working_storage_percent_used{$gatewayname}.as_count()"}],"response_format":"timeseries"}],"title":"WorkingStorageFree/WorkingStorageUsed/WorkingStoragePercentUsed","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":12,"x":0,"y":32}},{"definition":{"requests":[{"formulas":[{"formula":"A"},{"formula":"B"}],"queries":[{"data_source":"metrics","name":"A","query":"sum:aws.storagegateway.availability_notifications{$gatewayname}.as_count()"},{"data_source":"metrics","name":"B","query":"avg:aws.storagegateway.queued_writes{$gatewayname}.as_count()"}],"response_format":"timeseries"}],"title":"AvailabilityNotifications/QueuedWrites","title_size":"16","type":"timeseries"},"layout":{"height":4,"width":12,"x":0,"y":35}},{"definition":{"background_color":"white","content":"[![](https://monitoringartist.github.io/monitoring-artist-logo-grafana.png)](http://www.monitoringartist.com \"Dashboard maintained by Monitoring Artist - DevOps / Docker / Kubernetes / AWS ECS / Google GCP / Zabbix / Zenoss / Terraform / Monitoring\") \\|\n[AWS CloudWatch Storage Gateway documentation](https://docs.aws.amazon.com/storagegateway/latest/userguide/Main_monitoring-gateways-common.html) \\|\n[Installed from Grafana.com dashboards](https://grafana.com/dashboards/13040)","has_padding":true,"show_tick":false,"type":"note"},"layout":{"height":2,"width":12,"x":0,"y":39}}]}