{
  "title":"ðŸ¦‘ Squid Logs analysis - DD Example",
  "description":"",
  "widgets":[
    {
      "id":6490777990336926,
      "definition":{
        "type":"toplist",
        "requests":[
          {
            "log_query":{
              "index":"*",
              "compute":{
                "aggregation":"median",
                "facet":"@duration"
              },
              "search":{
                "query":"source:squid"
              },
              "group_by":[
                {
                  "facet":"@http.url_details.path",
                  "limit":10,
                  "sort":{
                    "aggregation":"median",
                    "order":"desc",
                    "facet":"@duration"
                  }
                }
              ]
            }
          }
        ],
        "custom_links":[
          
        ],
        "title":"Slowest calls by Destination (MED)",
        "title_size":"16",
        "title_align":"left"
      },
      "layout":{
        "x":48,
        "y":17,
        "width":47,
        "height":26
      }
    },
    {
      "id":4861920822003232,
      "definition":{
        "type":"image",
        "url":"https://pbs.twimg.com/media/DXxSP7SVAAAnArQ.png",
        "sizing":"zoom"
      },
      "layout":{
        "x":0,
        "y":0,
        "width":32,
        "height":15
      }
    },
    {
      "id":8718184637298726,
      "definition":{
        "type":"toplist",
        "requests":[
          {
            "log_query":{
              "index":"*",
              "compute":{
                "aggregation":"avg",
                "facet":"@payload_size"
              },
              "search":{
                "query":"source:squid"
              },
              "group_by":[
                {
                  "facet":"@http.url_details.path",
                  "limit":10,
                  "sort":{
                    "aggregation":"avg",
                    "order":"desc",
                    "facet":"@payload_size"
                  }
                }
              ]
            }
          }
        ],
        "custom_links":[
          
        ],
        "title":"Largest AVG payload size by Destination",
        "title_size":"16",
        "title_align":"left"
      },
      "layout":{
        "x":96,
        "y":17,
        "width":47,
        "height":26
      }
    },
    {
      "id":775046994181258,
      "definition":{
        "type":"toplist",
        "requests":[
          {
            "log_query":{
              "index":"*",
              "compute":{
                "aggregation":"count"
              },
              "search":{
                "query":"source:squid"
              },
              "group_by":[
                {
                  "facet":"@http.url_details.path",
                  "limit":10,
                  "sort":{
                    "aggregation":"count",
                    "order":"desc"
                  }
                }
              ]
            }
          }
        ],
        "custom_links":[
          
        ],
        "title":"Busiest Destinations (call count)",
        "title_size":"16",
        "title_align":"left"
      },
      "layout":{
        "x":0,
        "y":17,
        "width":47,
        "height":26
      }
    },
    {
      "id":6948644715163366,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "log_query":{
              "index":"*",
              "compute":{
                "aggregation":"count"
              },
              "search":{
                "query":"source:squid"
              },
              "group_by":[
                {
                  "facet":"host",
                  "limit":10,
                  "sort":{
                    "aggregation":"count",
                    "order":"desc"
                  }
                }
              ]
            },
            "display_type":"bars",
            "style":{
              "palette":"dog_classic"
            }
          }
        ],
        "custom_links":[
          
        ],
        "yaxis":{
          "label":"",
          "scale":"linear",
          "min":"auto",
          "max":"auto",
          "include_zero":true
        },
        "title":"Volume by Proxy host (count)",
        "title_size":"16",
        "title_align":"left",
        "show_legend":false
      },
      "layout":{
        "x":70,
        "y":0,
        "width":36,
        "height":15
      }
    },
    {
      "id":3346324135518826,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "log_query":{
              "index":"*",
              "compute":{
                "aggregation":"count"
              },
              "search":{
                "query":"source:squid"
              },
              "group_by":[
                {
                  "facet":"@network.client.ip",
                  "limit":10,
                  "sort":{
                    "aggregation":"count",
                    "order":"desc"
                  }
                }
              ]
            },
            "display_type":"bars",
            "style":{
              "palette":"pride"
            }
          }
        ],
        "custom_links":[
          
        ],
        "yaxis":{
          "label":"",
          "scale":"linear",
          "min":"auto",
          "max":"auto",
          "include_zero":true
        },
        "title":"Volume by Client IP (count)",
        "title_size":"16",
        "title_align":"left",
        "show_legend":false,
        "legend_size":"0"
      },
      "layout":{
        "x":107,
        "y":0,
        "width":36,
        "height":15
      }
    },
    {
      "id":1652908122339943,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "log_query":{
              "index":"*",
              "compute":{
                "aggregation":"count"
              },
              "search":{
                "query":"status:(error OR warn) source:squid"
              },
              "group_by":[
                {
                  "facet":"@http.url_details.path",
                  "limit":10,
                  "sort":{
                    "aggregation":"count",
                    "order":"desc"
                  }
                }
              ]
            },
            "display_type":"bars",
            "style":{
              "palette":"warm"
            },
            "on_right_yaxis":false
          }
        ],
        "custom_links":[
          
        ],
        "yaxis":{
          "label":"",
          "scale":"linear",
          "min":"auto",
          "max":"auto",
          "include_zero":true
        },
        "title":"Errors per Destination",
        "title_size":"16",
        "title_align":"left",
        "show_legend":false
      },
      "layout":{
        "x":33,
        "y":0,
        "width":36,
        "height":15
      }
    },
    {
      "id":8010030157587928,
      "definition":{
        "type":"toplist",
        "requests":[
          {
            "log_query":{
              "index":"*",
              "compute":{
                "aggregation":"avg",
                "facet":"@payload_size"
              },
              "search":{
                "query":"source:squid"
              },
              "group_by":[
                {
                  "facet":"@network.client.ip",
                  "limit":10,
                  "sort":{
                    "aggregation":"avg",
                    "order":"desc",
                    "facet":"@payload_size"
                  }
                }
              ]
            }
          }
        ],
        "custom_links":[
          
        ],
        "title":"Largest AVG payload size by Client IP",
        "title_size":"16",
        "title_align":"left"
      },
      "layout":{
        "x":96,
        "y":44,
        "width":47,
        "height":26
      }
    },
    {
      "id":5013391954021162,
      "definition":{
        "type":"query_table",
        "requests":[
          {
            "log_query":{
              "index":"*",
              "compute":{
                "aggregation":"pc90",
                "facet":"@duration"
              },
              "search":{
                "query":"source:squid"
              },
              "group_by":[
                {
                  "facet":"@network.client.ip",
                  "limit":3,
                  "sort":{
                    "aggregation":"pc90",
                    "order":"desc",
                    "facet":"@duration"
                  }
                },
                {
                  "facet":"@http.url_details.path",
                  "limit":3,
                  "sort":{
                    "aggregation":"pc90",
                    "order":"desc",
                    "facet":"@duration"
                  }
                }
              ]
            },
            "conditional_formats":[
              {
                "comparator":">",
                "value":60000000000,
                "palette":"white_on_red",
                "metric":"pc90:@duration"
              },
              {
                "comparator":">",
                "value":30000000000,
                "palette":"white_on_yellow",
                "metric":"pc90:@duration"
              }
            ]
          }
        ],
        "custom_links":[
          
        ],
        "title":"Slowest calls by Client IP & Destination (p90)",
        "title_size":"16",
        "title_align":"left"
      },
      "layout":{
        "x":48,
        "y":44,
        "width":47,
        "height":26
      }
    },
    {
      "id":8781407238885706,
      "definition":{
        "type":"toplist",
        "requests":[
          {
            "log_query":{
              "index":"*",
              "compute":{
                "aggregation":"sum",
                "facet":"@payload_size"
              },
              "search":{
                "query":"source:squid"
              },
              "group_by":[
                {
                  "facet":"@http.url_details.path",
                  "limit":10,
                  "sort":{
                    "aggregation":"sum",
                    "order":"desc",
                    "facet":"@payload_size"
                  }
                }
              ]
            }
          }
        ],
        "custom_links":[
          
        ],
        "title":"Busiest Destinations (volume)",
        "title_size":"16",
        "title_align":"left"
      },
      "layout":{
        "x":0,
        "y":44,
        "width":47,
        "height":26
      }
    }
  ],
  "template_variables":[
    
  ],
  "layout_type":"free",
  "is_read_only":false,
  "notify_list":[
    
  ]
}
